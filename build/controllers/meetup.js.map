{"version":3,"sources":["../../api/controllers/meetup.js"],"names":["Meetup","createMeetup","req","res","body","location","topic","happeningOn","status","send","message","isValid","meetup","meetupModel","data","tags","getOneMeetup","fetchOneMeetup","params","id","getAllMeetup","fetchAllMeetup","getUpcoming","upcoming","length","undefined"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA;AACA,IAAMA,SAAS;AACbC,cADa,wBACAC,GADA,EACKC,GADL,EACU;AACrB,QAAI,CAACD,IAAIE,IAAJ,CAASC,QAAV,IAAsB,CAACH,IAAIE,IAAJ,CAASE,KAAhC,IAAyC,CAACJ,IAAIE,IAAJ,CAASG,WAAvD,EAAoE;AAClE,aAAOJ,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,iBAAS;AADiB,OAArB,CAAP;AAGD;AACD,QAAI,CAAE,sBAAOR,IAAIE,IAAJ,CAASG,WAAhB,EAA6BI,OAA7B,EAAN,EAA+C;AAC7C,aAAOR,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,iBAAS;AADiB,OAArB,CAAP;AAGD;AACD,QAAME,SAASC,iBAAYZ,YAAZ,CAAyBC,IAAIE,IAA7B,CAAf;AACA,WAAOD,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,cAAQ,GADkB;AAE1BM,YAAM,CAAC;AACLR,eAAOM,OAAON,KADT;AAELD,kBAAUO,OAAOP,QAFZ;AAGLE,qBAAaK,OAAOL,WAHf;AAILQ,cAAMH,OAAOG;AAJR,OAAD;AAFoB,KAArB,CAAP;AASD,GAtBY;;AAuBb;AACAC,cAxBa,wBAwBAd,GAxBA,EAwBKC,GAxBL,EAwBU;AACrB,QAAMS,SAASC,iBAAYI,cAAZ,CAA2Bf,IAAIgB,MAAJ,CAAWC,EAAtC,CAAf;AACA,QAAI,CAACP,MAAL,EAAa;AACX,aAAOT,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,iBAAS;AADiB,OAArB,CAAP;AAGD;AACD,WAAOP,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,cAAQ,GADkB;AAE1BM,YAAM,CAAC;AACLK,YAAIP,OAAOO,EADN;AAELb,eAAOM,OAAON,KAFT;AAGLD,kBAAUO,OAAOP,QAHZ;AAILE,qBAAaK,OAAOL,WAJf;AAKLQ,cAAMH,OAAOG;AALR,OAAD;AAFoB,KAArB,CAAP;AAUD,GAzCY;;AA0Cb;AACAK,cA3Ca,wBA2CAlB,GA3CA,EA2CKC,GA3CL,EA2CU;AACrB,QAAMS,SAASC,iBAAYQ,cAAZ,EAAf;AACA,WAAOlB,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,cAAQ,GADkB;AAE1BM,YAAMF;AAFoB,KAArB,CAAP;AAID,GAjDY;AAkDbU,aAlDa,uBAkDDpB,GAlDC,EAkDIC,GAlDJ,EAkDS;AACpB,QAAMoB,WAAWV,iBAAYS,WAAZ,EAAjB;AACA,QAAIC,SAASC,MAAT,KAAoB,CAApB,IAAyBD,aAAaE,SAA1C,EAAqD;AACnD,aAAOtB,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,iBAAS;AADiB,OAArB,CAAP;AAGD;AACD,WAAOP,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,cAAQ,GADkB;AAE1BM,YAAMS;AAFoB,KAArB,CAAP;AAID;AA7DY,CAAf;;kBAgEevB,M","file":"meetup.js","sourcesContent":["import moment from 'moment';\r\nimport meetupModel from '../models/meetup';\r\n\r\n// Controller for create a meetup record\r\nconst Meetup = {\r\n  createMeetup(req, res) {\r\n    if (!req.body.location || !req.body.topic || !req.body.happeningOn) {\r\n      return res.status(400).send({\r\n        message: 'The fields location, topic and happeningOn are required',\r\n      });\r\n    }\r\n    if (!(moment(req.body.happeningOn).isValid())) {\r\n      return res.status(400).send({\r\n        message: 'Please use this format: \"Friday, January 4, 2019 9:53 PM\"',\r\n      });\r\n    }\r\n    const meetup = meetupModel.createMeetup(req.body);\r\n    return res.status(201).send({\r\n      status: 201,\r\n      data: [{\r\n        topic: meetup.topic,\r\n        location: meetup.location,\r\n        happeningOn: meetup.happeningOn,\r\n        tags: meetup.tags,\r\n      }],\r\n    });\r\n  },\r\n  // Controller for fetch a specific meetup record\r\n  getOneMeetup(req, res) {\r\n    const meetup = meetupModel.fetchOneMeetup(req.params.id);\r\n    if (!meetup) {\r\n      return res.status(404).send({\r\n        message: 'Meetup not found',\r\n      });\r\n    }\r\n    return res.status(200).send({\r\n      status: 200,\r\n      data: [{\r\n        id: meetup.id,\r\n        topic: meetup.topic,\r\n        location: meetup.location,\r\n        happeningOn: meetup.happeningOn,\r\n        tags: meetup.tags,\r\n      }],\r\n    });\r\n  },\r\n  // Controller for fetch all meetup records\r\n  getAllMeetup(req, res) {\r\n    const meetup = meetupModel.fetchAllMeetup();\r\n    return res.status(200).send({\r\n      status: 200,\r\n      data: meetup,\r\n    });\r\n  },\r\n  getUpcoming(req, res) {\r\n    const upcoming = meetupModel.getUpcoming();\r\n    if (upcoming.length === 0 || upcoming === undefined) {\r\n      return res.status(404).send({\r\n        message: 'No upcoming meetup',\r\n      });\r\n    }\r\n    return res.status(200).send({\r\n      status: 200,\r\n      data: upcoming,\r\n    });\r\n  },\r\n};\r\n\r\nexport default Meetup;\r\n"]}