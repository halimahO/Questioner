{"version":3,"sources":["../../api/controllers/rsvp.js"],"names":["RSVP","respondToRsvp","req","res","meetupId","meetupModel","fetchOneMeetup","params","id","status","send","message","body","response","rsvp","rsvpModel","data","meetup","topic"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA;AACA,IAAMA,OAAO;AACXC,eADW,yBACGC,GADH,EACQC,GADR,EACa;AACtB,QAAMC,WAAWC,iBAAYC,cAAZ,CAA2BJ,IAAIK,MAAJ,CAAWC,EAAtC,CAAjB;AACA,QAAI,CAACJ,QAAL,EAAe;AACb,aAAOD,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,iBAAS;AADiB,OAArB,CAAP;AAGD;;AAED,QAAI,CAACT,IAAIU,IAAJ,CAASC,QAAd,EAAwB;AACtB,aAAOV,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,iBAAS;AADiB,OAArB,CAAP;AAGD;AACD,QAAMG,OAAOC,eAAUd,aAAV,CAAwBC,IAAIU,IAA5B,CAAb;AACA,WAAOT,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,cAAQ,GADkB;AAE1BO,YAAM,CAAC;AACLC,gBAAQH,KAAKG,MADR;AAELC,eAAOJ,KAAKI,KAFP;AAGLT,gBAAQK,KAAKD;;AAHR,OAAD;AAFoB,KAArB,CAAP;AASD;AAxBU,CAAb;;kBA4Beb,I","file":"rsvp.js","sourcesContent":["import rsvpModel from '../models/rsvp';\r\nimport meetupModel from '../models/meetup';\r\n\r\n// Controller for respond to meetup rsvp\r\nconst RSVP = {\r\n  respondToRsvp(req, res) {\r\n    const meetupId = meetupModel.fetchOneMeetup(req.params.id);\r\n    if (!meetupId) {\r\n      return res.status(404).send({\r\n        message: 'Cant rsvp for meetup that does not exist',\r\n      });\r\n    }\r\n\r\n    if (!req.body.response) {\r\n      return res.status(400).send({\r\n        message: 'Fill in your status',\r\n      });\r\n    }\r\n    const rsvp = rsvpModel.respondToRsvp(req.body);\r\n    return res.status(200).send({\r\n      status: 200,\r\n      data: [{\r\n        meetup: rsvp.meetup,\r\n        topic: rsvp.topic,\r\n        status: rsvp.response,\r\n\r\n      }],\r\n    });\r\n  },\r\n\r\n};\r\n\r\nexport default RSVP;\r\n"]}